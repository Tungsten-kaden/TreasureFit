<html>
    <head>

        <title>TF|Enquiries|</title>
        <meta charset="UTF-8">
        <meta name="keyboard" content="TreasureFit, workouts">
        <meta http-equiv="refresh" content="60"><!--this will allow my page to refresh every 60 seconds-->
        <meta name="viewport" content="width=device-width, initial-scale=1"><!--this ensures that my page is mobile-friendly-->
        <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdnjs.cloudflare.com; style-src 'self' https://cdnjs.cloudflare.com;">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <style>

            form{
                position: relative;
                
            
            }
        
    
        </style>
    </head>

    <body>
        <!--header sections where links and images are-->
        <header id="header1">            
            <div>
                <nav>
                    <a href="index.html">
                        <img src="images/logo.jpg" width="100" id="img1">
                    </a>
                    <!--Call To Action Button!-->
                    <a href="enquiry.html" id="a1">
                        <button type="button" onclick="alert('BOOK NOW')" id="button1">Book Now</button>
                    </a>
                 
                    
                
                    
           <br>
           <br>
                    <a href="index.html">Home</a> |
                    <a href="aboutus.html">About us</a> |
                    <a href="services.html">Services</a> |
                    <a href="enquiry.html">Enquiry</a> |
                    <a href="contactus.html">Contact Us</a> |   
               </nav>
            </div>
        </header>
                     <div id="div2">
                        <h1 class="mediaq">LET'S TALK FITNESS!</h1>
                     </div>  

       

    <br>
    <main>  
        
        <div class="mediaq"><div id="form1"><h2 style="font-size: 30px;">Fill in the form:</h2></div></div>
    <div><!--Form division fill-in required info-->
        <!--tags used are form, label, input, select, options and textarea to crete a form-->
            <form id="enquiryForm" novalidate>
                <label for="fname">First name:</label><br>
                <input type="text" id="fname" name="fname" required minlength="2"><br>
              
                <label for="lname">Last name:</label><br>
                <input type="text" id="lname" name="lname" required minlength="2"><br>
              
                <label for="email">Email Address:</label><br>
                <input type="email" id="email" name="email" required><br>
              
                <label for="pnumber">Phone Number:</label><br>
                <input type="tel" id="pnumber" name="pnumber" required pattern="^\+?\d{10,13}$" placeholder="+27123456789"><br>
              
                <label for="choices">Choose service:</label><br>
                <select id="choices" name="choices">
                  <option value="class information">Class Information</option>
                  <option value="personal training">Personal Training</option>
                  <option value="general enquiry">General Enquiry</option>
                </select><br><br>
              
                <label for="message">Your Message:</label><br>
                <textarea id="message" name="message" rows="4" cols="30" required minlength="10" maxlength="300"></textarea><br><br>
              
                <input type="submit" value="Submit">
                <div id="formMessage" style="margin-top: 10px;"></div>
              </form>
              
              <script>
              document.getElementById("enquiryForm").addEventListener("submit", function(e) {
                e.preventDefault();
              
                const fname = document.getElementById("fname").value.trim();
                const lname = document.getElementById("lname").value.trim();
                const email = document.getElementById("email").value.trim();
                const phone = document.getElementById("pnumber").value.trim();
                const message = document.getElementById("message").value.trim();
                const choice = document.getElementById("choices").value;
                const feedback = document.getElementById("formMessage");
              
                const phonePattern = /^\+?\d{10,13}$/;
                let errors = [];
              
                if (fname.length < 2) errors.push("First name must be at least 2 characters.");
                if (lname.length < 2) errors.push("Last name must be at least 2 characters.");
                if (!email.includes("@") || email.length < 5) errors.push("Invalid email address.");
                if (!phonePattern.test(phone)) errors.push("Enter a valid phone number.");
                if (message.length < 10) errors.push("Message must be at least 10 characters.");
              
                if (errors.length > 0) {
                  feedback.innerHTML = `<span style="color:red;">${errors.join("<br>")}</span>`;
                  return;
                }
              
                // Simulate pricing based on selection
                let cost = "";
                if (choice === "class information") cost = "R200/month";
                else if (choice === "personal training") cost = "R400/session";
                else cost = "Contact us for flexible pricing.";
              
                // Send form via AJAX
                fetch("https://formsubmit.co/ajax/holahulu27@gmail.com", {
                  method: "POST",
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({
                    fname: fname,
                    lname: lname,
                    email: email,
                    pnumber: phone,
                    choices: choice,
                    message: message
                  })
                })
                .then(response => response.json())
                .then(data => {
                  feedback.innerHTML = `<span style="color:green;">Thank you ${fname}, your request for <strong>${choice}</strong> has been received. Estimated cost: <strong>${cost}</strong>. We'll get back to you soon!</span>`;
                  document.getElementById("enquiryForm").reset();
                })
                .catch(error => {
                  feedback.innerHTML = `<span style="color:red;">There was an error sending your enquiry. Please try again later.</span>`;
                });
              });
              </script>
    </div>
    </main>

    <br>
    <footer>
        <!--additional enquiry options-->
            <h3 class="mediaq">Further Enquiry At:</h3>
        <div id="divf">
            <p><mark>(Monday - Friday, 8:00AM-9:00PM SAST)</mark></p>
            <li>Phone: <mark>+27 13 298 0356 </mark></li>
            <li>Email: <mark>treasurefit@gmail.com</mark></li>
            <li>Website:<mark> www.treasurefit.com </mark></li>
            
                <address>TreasureFit HQ, 123 Fitness Avenue
                <br> Polokwane, 0700
                <br>Limpopo
                <br> South Africa.</address>

      
                <p>&copy; 2025 TreasureFit. All rights reserved.</p>
            <br>
            <!--my button still needs some editing-->
 
            <a href="enquiry.html" id="a1">
                <button type="button" onclick="alert('Top')" id="b1">BackTop</button>
            </a> 
        </div>

    </footer>
        
       

    </body>


</html>